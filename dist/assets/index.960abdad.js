var ne=Object.defineProperty,ie=Object.defineProperties;var re=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable;var G=(e,t,n)=>t in e?ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z=(e,t)=>{for(var n in t||(t={}))ae.call(t,n)&&G(e,n,t[n]);if(H)for(var n of H(t))le.call(t,n)&&G(e,n,t[n]);return e},J=(e,t)=>ie(e,re(t));import{c as ce,d as x,o as u,a as b,w as F,v as O,b as a,F as V,r as j,t as S,n as A,e as E,f as k,g as R,h as de,i as ue,j as $,u as l,k as B,l as D,m as T,p as X,q as me,s as Q,x as fe,y as Y,z as C,A as he,B as _e,C as pe,D as ve,E as be,G as ge,H as ye,I as we,J as Se,K as $e,L as Ce,M as Ve,N as xe,O as ke,P as Ee,Q as Ie,R as De,S as Te,T as Me,U as Be}from"./vendor.77247e1f.js";const Fe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}};Fe();const je="https://liihxsljstcipupmbrms.supabase.co",Ae="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJvbGUiOiJhbm9uIiwiaWF0IjoxNjQzMDM4NjY4LCJleHAiOjE5NTg2MTQ2Njh9.x_VBzIT4SPWFlMMB8PCYjBVWDwgFVR0XXOyS5mt7e6w",M=ce(je,Ae),q=()=>({fetchCourses:async()=>{try{const{data:c,error:d}=await M.from("courses").select("*");if(d)throw d;return c}catch(c){alert(c.message)}},fetchInstructors:async()=>{try{const{data:c,error:d}=await M.from("instructors").select("*");if(d)throw d;return c}catch(c){alert(c.message)}},fetchBuildings:async()=>{try{const{data:c,error:d}=await M.from("buildings").select("*");if(d)throw d;return c}catch(c){alert(c.message)}},fetchRooms:async c=>{try{const{data:d,error:_}=await M.from("rooms").select("*").eq("building_id",c);if(_)throw _;return d}catch(d){alert(d.message)}},fetchTimeSlots:async(c,d)=>{try{const{data:_,error:v}=await M.from("time_slots").select("*").eq("slot_days",c).eq("credits",d).order("begin_time",{ascending:!0});if(v)throw v;return _}catch(_){alert(_.message)}},fetchParallel:async c=>{const d=c.map(_=>_());return await Promise.all(d)},fetchSections:async()=>{try{const{data:c,error:d}=await M.from("all_courses").select("*").order("section_id",{ascending:!0});if(d)throw d;return c}catch(c){alert(c.message)}},deleteSection:async c=>{try{const{data:d,error:_}=await M.from("sections").delete().match({section_id:c});if(_)throw _;return d}catch(d){alert(d.message)}},insertSection:async c=>{try{const{error:d}=await M.from("sections").insert(c);if(d)throw d}catch(d){alert(d.message)}},updateSection:async c=>{try{const{data:d,error:_}=await M.from("sections").update({course_id:c.course_id,instructor_id:c.instructor_id,room_id:c.room_id,campus_id:c.campus_id,slot_id:c.slot_id}).match({section_id:c.section_id});if(_)throw _}catch(d){alert(d.message)}}}),Oe=[{id:"face-to-face",name:"campus",text:"Face-to-Face",value:1},{id:"hybrid",name:"campus",text:"Hybrid",value:2},{id:"online",name:"campus",text:"Online",value:3},{id:"independent",name:"campus",text:"Independent",value:4},{id:"off-campus",name:"campus",text:"Off Campus",value:5}],Re={class:"text-red-500"},Pe=["for"],Ne=["checked","value","id","name"],Le={class:"w-full h-10 grid place-items-center"},Ue=x({props:{modelValue:null,fields:null,hasErrors:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=s=>{t("update:modelValue",parseInt(s.target.value))};return(s,o)=>(u(),b(V,null,[F(a("span",Re,"this field is required",512),[[O,e.hasErrors&&e.modelValue===void 0]]),a("div",{class:A([[e.hasErrors&&e.modelValue===void 0?" border-red-500":""],"grid grid-cols-5 items-center text-center text-gray-500 rounded-lg mb-4 text-sm border"])},[(u(!0),b(V,null,j(e.fields,i=>(u(),b("label",{key:i.id,class:"inline-block border-r border-gray-300",for:i.id},[a("input",{onChange:n,checked:e.modelValue===i.value,class:"absolute appearance-none visibility-hidden hidden",type:"radio",value:i.value,id:i.id,name:i.name},null,40,Ne),a("span",Le,[a("span",null,S(i.text),1)])],8,Pe))),128))],2)],64))}}),We={class:"text-red-500"},ze=["onKeydown","placeholder"],U=x({props:{placeholder:null,items:null,filter:null,id:null,icon:null,modelValue:null,hasErrors:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const{placeholder:n,items:s,filter:o,icon:i,modelValue:m}=e,f=E(),g=()=>f.value="",w=E(!1),c=(v,h,p)=>{g(),p?t("update:modelValue",{id:v,value:h,meta:p}):t("update:modelValue",{id:v,value:h}),w.value=!1},d=()=>{t("update:modelValue",void 0)},_=k(()=>f.value?s.filter(v=>v[o].toString().toLowerCase().includes(f.value.toLowerCase())):s);return(v,h)=>{const p=R("font-awesome-icon");return u(),b(V,null,[F(a("span",We,"this field is required",512),[[O,e.hasErrors&&e.modelValue===void 0]]),a("div",{class:A(["relative mb-4 w-full",[e.hasErrors&&e.modelValue===void 0?"border border-red-500":""]])},[F(a("input",{onFocus:h[0]||(h[0]=r=>w.value=!0),onBlur:h[1]||(h[1]=r=>w.value=!1),onKeydown:ue(g,["esc"]),placeholder:e.modelValue?e.modelValue.value:e.placeholder,class:A([[e.modelValue?"placeholder-black":""],"appearance-none rounded-md py-1 px-2 border-2 border-gray-100 w-full"]),type:"text","onUpdate:modelValue":h[2]||(h[2]=r=>f.value=r)},null,42,ze),[[de,f.value]]),$(p,{onClick:d,class:"absolute right-3 top-2 cursor-pointer",icon:e.modelValue?"window-close":e.icon},null,8,["icon"]),F(a("div",{class:A([[l(_).length>8?"dropdown-scroll":""],"absolute dropdown bg-white border"])},[(u(!0),b(V,null,j(l(_),r=>(u(),b("div",{key:r[e.id],class:"overflow-hidden"},[B(v.$slots,"default",{id:r[e.id],item:r,select:c})]))),128))],2),[[O,w.value]])],2)],64)}}}),Je={class:"flex justify-between gap-8 hover:bg-blue-50 px-4"},qe={class:"text-gray-400 justify-self-end truncate"},W=x({props:{name:null,meta:null},setup(e){return(t,n)=>(u(),b("div",Je,[a("p",null,S(e.name),1),a("p",qe,S(e.meta),1)]))}}),Ke={class:"text-red-500"},He=["checked","id","value"],Ge=["for"],Xe={class:"grid w-full h-full place-items-center"},Qe={class:""},Ye=x({props:{modelValue:null,hasErrors:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=E(["MWF","MW","TR","M","T","W","R"]),s=o=>{t("update:modelValue",o.target.value)};return(o,i)=>(u(),b(V,null,[F(a("span",Ke,"this field is required",512),[[O,e.hasErrors&&e.modelValue===void 0]]),a("div",{class:A([[e.hasErrors&&e.modelValue===void 0?"border-red-500":""],"flex flex-wrap justify-center gap-3 border p-2 mb-8 rounded-md"])},[(u(!0),b(V,null,j(n.value,(m,f)=>(u(),b("div",{key:f},[a("input",{onChange:s,checked:e.modelValue===m,id:m.toLowerCase(),class:"appearance-none",value:m,type:"radio",name:"radio"},null,40,He),a("label",{class:"inline-block border w-12 h-12 justify-center items-center bg-white rounded-md hover:bg-blue-50",for:m.toLowerCase()},[a("div",Xe,[a("span",Qe,S(m),1)])],8,Ge)]))),128))],2)],64))}}),P=()=>({formatTime:n=>{let s=parseInt(n.slice(0,2));const o=n.slice(3,5),i=s>=12?"PM":"AM";return s=s%12||12,`${s}:${o}${i}`},timeToInt:n=>parseInt(n.replace(":",""))}),Ze=x({props:{timeSlot:null,isSelected:{type:Boolean}},emits:["selected"],setup(e,{emit:t}){const{timeSlot:n}=e,{formatTime:s}=P(),o=k(()=>s(n.begin_time)),i=k(()=>s(n.end_time));return(m,f)=>(u(),b("div",{onClick:f[0]||(f[0]=g=>t("selected",{id:e.timeSlot.slot_id,value:`${e.timeSlot.begin_time} - ${e.timeSlot.end_time}`,meta:{start:e.timeSlot.begin_time,end:e.timeSlot.end_time}})),class:A(["px-2 py-4 border border-gray-400 rounded-lg text-center text-sm text-gray-700 transition-transform duration-200 hover:bg-blue-100 cursor-pointer",[e.isSelected?"bg-blue-100":""]])},[a("span",{class:A([[e.isSelected?"text-blue-700":""],"inline-block mr-2"])},S(`${l(o)} - ${l(i)}`),3)],2))}}),et={class:"flex gap-4 items-center"},tt={key:1,class:"grid sm:grid-cols-2 md:grid-cols-3 gap-4 mb-4 w-full"},st={key:2,class:"mx-auto mb-4"},ot=x({props:{timeSlots:null,pageSize:{default:9},modelValue:null},emits:["update:modelValue"],setup(e,{emit:t}){const{timeSlots:n,pageSize:s}=e,o=k(()=>n?Math.ceil(n.length/s):1),i=E(1),m=()=>{i.value>1&&i.value--},f=()=>{i.value<o.value&&i.value++},g=k(()=>s>1?n.slice((i.value-1)*s,s*i.value):n),w=c=>{t("update:modelValue",c)};return(c,d)=>{const _=R("font-awesome-icon");return u(),b("div",et,[l(o)>1?(u(),D(_,{key:0,onClick:m,class:"hover:scale-125 transition-all ease-in-out duration-100 mb-4",size:"lg",icon:"chevron-left"})):T("",!0),n.length>0?(u(),b("div",tt,[(u(!0),b(V,null,j(l(g),v=>(u(),D(Ze,{onSelected:w,isSelected:!!(e.modelValue&&e.modelValue.id===v.slot_id),timeSlot:v,key:v.slot_id},null,8,["isSelected","timeSlot"]))),128))])):(u(),b("p",st,"No Items to Show")),l(o)>1?(u(),D(_,{key:3,onClick:f,class:"hover:scale-125 transition-all ease-in-out duration-100 mb-4",size:"lg",icon:"chevron-right"})):T("",!0)])}}}),{fetchRooms:nt,fetchTimeSlots:it,fetchParallel:rt}=q(),Z=X("courses",{state:()=>({courses:[],instructors:[],buildings:[],rooms:[],timeSlots:[]}),actions:{async getFieldData(e){return await rt(e)},async getRooms(e){this.rooms=[];const t=await nt(e);t&&(this.rooms=t)},async getTimeSlots(e,t){this.timeSlots=[];const n=await it(e,t);n&&(this.timeSlots=n)}}}),{fetchSections:at,deleteSection:lt,insertSection:ct,updateSection:dt}=q(),{formatTime:ee}=P(),N=X("section",{state:()=>({sections:[],sectionEdit:{},isEditing:!1}),getters:{sectionWithInstructor:e=>(t,n)=>e.sections.filter(s=>s.instructor_id===t&&s.section_id!==n),sectionInRoom:e=>(t,n)=>e.sections.filter(s=>s.room_id===t&&s.section_id!==n),sectionsWithoutID:e=>e.sections.map(t=>(delete t.section_id,t)),sectionsWithFormattedTime:e=>e.sections.map(t=>J(z({},t),{begin_time:ee(t.begin_time),end_time:ee(t.end_time)}))},actions:{async getSections(){const e=await at();e&&(this.sections=e)},findSectionByID(e){return this.sections.find(t=>t.section_id===e)},findSectionsOnDays(e,t,n){const s=e.split("");return t.filter(o=>s.some(i=>o.slot_days.includes(i))&&o.section_id!==n)},stopEditing(){this.sectionEdit={},this.isEditing=!1},async editSection(e){if(this.$state.sectionEdit&&e===this.$state.sectionEdit.sectionID)return;const t=this.findSectionByID(e);t&&(this.sectionEdit={sectionID:t.section_id,course:{id:t.course_id,value:t.course_code,meta:t.credit_hours},instructor:{id:t.instructor_id,value:t.instructor_name},campus:t.campus_id,day:t.slot_days,slot:{id:t.slot_id,value:`${t.begin_time} - ${t.end_time}`,meta:{start:t.begin_time,end:t.end_time}}},t.building_id&&t.building_number&&(this.sectionEdit.building={id:t.building_id,value:`Building ${t.building_number}`}),t.room_id&&t.room_number&&(this.sectionEdit.room={id:t.room_id,value:`Room ${t.room_number}`}),this.isEditing=!0)},async deleteSection(e){this.isEditing&&(this.isEditing=!1),this.findSectionByID(e)&&(this.sections=this.sections.filter(n=>n.section_id!==e),await lt(e))},async addSection(e){this.isEditing&&(this.isEditing=!1),await ct(e),await this.getSections()},async updateSection(e){await dt(e),await this.getSections()}}}),ut=e=>{const t=N(),{timeToInt:n}=P(),s=E(e);return{findConflicts:()=>{const i=t.sectionWithInstructor(s.value.instructor.id,s.value.sectionID),m=s.value.room?t.sectionInRoom(s.value.room.id,s.value.sectionID):[],f=t.findSectionsOnDays(s.value.day,[...i,...m],s.value.sectionID),g=new Set([...f]);let w=[];const c={start:s.value.slot.meta.start,end:s.value.slot.meta.end},_=[...[...g].map(h=>({section_id:h.section_id,start:h.begin_time,end:h.end_time})),c].sort((h,p)=>n(h.start)-n(p.start)),v=_.indexOf(c);for(let h=0;h<v;h++)c.start<_[h].end&&w.push(_[h]);for(let h=v;h<_.length;h++)_[h].start<c.end&&h!==v&&w.push(_[h]);return w}}},mt=()=>{const e=Z(),t=N(),{formatTime:n}=P(),s=me({}),o=E(),i=E(!1),m=k(()=>o.value&&o.value.length>0?o.value.map(y=>t.findSectionByID(y.section_id)).map(y=>J(z({},y),{begin_time:n(y.begin_time),end_time:n(y.end_time)})):[]),{findConflicts:f}=ut(s),g=y=>{Object.assign(s,y)},w=async()=>{s.building?await e.getRooms(s.building.id):(s.room=void 0,e.rooms=[])},c=async()=>{s.day&&s.course?await e.getTimeSlots(s.day,s.course.meta):(s.slot=void 0,e.timeSlots=[])},d=()=>s.course===void 0||s.instructor===void 0||s.slot===void 0||s.day===void 0||s.campus===void 0?!1:!(s.campus!==3&&(s.building===void 0||s.room===void 0)),_=y=>{var L;if(i.value=!0,y==="duplicate"&&(s.sectionID=void 0),!d())return;o.value=f();const I={section_id:s.sectionID,course_id:s.course.id,instructor_id:s.instructor.id,campus_id:s.campus,room_id:(L=s.room)==null?void 0:L.id,slot_id:s.slot.id};if(!(o.value.length>0)){switch(y){case"add":t.addSection(I);break;case"save":t.updateSection(I);break;case"duplicate":t.addSection(I)}y!=="save"&&h(),i.value=!1}},v=()=>o.value=void 0,h=()=>{for(let y in s)y!=="campus"&&y!=="day"&&(s[y]=void 0);t.stopEditing(),i.value=!1};Q(()=>s.building,()=>w()),Q([()=>s.day,()=>s.course],()=>c());const p=k(()=>t.isEditing),r=k(()=>i.value===!0&&!d());return fe(()=>{t.sectionEdit&&g(t.sectionEdit)}),t.$onAction(({name:y})=>{y==="deleteSection"&&h()}),{form:s,clearForm:h,isEditing:p,submit:_,conflictSections:m,clearConflicts:v,showErrors:r}};var K=(e,t)=>{const n=e.__vccOpts||e;for(const[s,o]of t)n[s]=o;return n};const ft={class:"fixed flex justify-center items-center inset-0 z-20 backdrop-blur"},ht={class:"p-8 bg-white border-rounded-sm shadow-sm"},_t=x({emits:["close"],setup(e,{emit:t}){const n=()=>{console.log("close"),t("close")};return(s,o)=>(u(),b("div",ft,[a("div",ht,[B(s.$slots,"header",{},void 0,!0),B(s.$slots,"main",{},void 0,!0),B(s.$slots,"actions",{close:n},void 0,!0)])]))}});var te=K(_t,[["__scopeId","data-v-4ef8cb91"]]);const pt=a("h3",null,"Please clear the following conflicts:",-1),vt={class:"my-4"},bt={class:"border flex gap-2 border-gray-400 px-2 py-4 rounded-md"},gt={class:"flex"},yt=a("button",{class:"btn btn--confirm"},"Overwrite",-1),wt=["onClick"],St={class:"lg:flex"},$t=["value"],Ct=["value"],Vt=x({setup(e){const{fetchCourses:t,fetchInstructors:n,fetchBuildings:s}=q(),o=Z(),{form:i,clearForm:m,isEditing:f,submit:g,conflictSections:w,clearConflicts:c,showErrors:d}=mt();Y(async()=>{const[h,p,r]=await o.getFieldData([t,n,s]);o.$patch({courses:h,instructors:p,buildings:r})});const _=()=>{c()},v=k(()=>w.value.length>0);return(h,p)=>(u(),b(V,null,[F($(te,{onClose:_},{header:C(()=>[pt]),main:C(()=>[(u(!0),b(V,null,j(l(w),r=>(u(),b("div",vt,[a("div",bt,[a("span",null,"course: "+S(r.course_code),1),a("span",null,"instructor: "+S(r.instructor_name),1),a("span",null,"days: "+S(r.slot_days),1),a("span",null,"time: "+S(`${r.begin_time} - ${r.end_time}`),1)])]))),256))]),actions:C(({close:r})=>[a("div",gt,[yt,a("button",{onClick:r,class:"btn btn--reject"},"Cancel",8,wt)])]),_:1},512),[[O,l(v)]]),a("form",{id:"course-scheduler",onSubmit:p[9]||(p[9]=he(r=>l(f)?l(g)("save"):l(g)("add"),["prevent"]))},[l(o).courses.length>0?(u(),D(U,{key:0,modelValue:l(i).course,"onUpdate:modelValue":p[0]||(p[0]=r=>l(i).course=r),placeholder:"Courses",items:l(o).courses,filter:"course_code",id:"course_id",icon:"graduation-cap",hasErrors:l(d)},{default:C(({item:r,select:y})=>[$(W,{name:r.course_code,meta:r.course_title,onMousedown:I=>y(r.course_id,r.course_code,r.credit_hours)},null,8,["name","meta","onMousedown"])]),_:1},8,["modelValue","items","hasErrors"])):T("",!0),l(o).instructors.length>0?(u(),D(U,{key:1,modelValue:l(i).instructor,"onUpdate:modelValue":p[1]||(p[1]=r=>l(i).instructor=r),placeholder:"Instructors",items:l(o).instructors,filter:"instructor_name",id:"instructor_id",icon:"chalkboard-teacher",hasErrors:l(d)},{default:C(({item:r,select:y})=>[$(W,{name:r.instructor_name,onMousedown:I=>y(r.instructor_id,r.instructor_name)},null,8,["name","onMousedown"])]),_:1},8,["modelValue","items","hasErrors"])):T("",!0),$(Ue,{modelValue:l(i).campus,"onUpdate:modelValue":p[2]||(p[2]=r=>l(i).campus=r),hasErrors:l(d),fields:l(Oe)},null,8,["modelValue","hasErrors","fields"]),l(o).buildings.length>0?(u(),D(U,{key:2,modelValue:l(i).building,"onUpdate:modelValue":p[3]||(p[3]=r=>l(i).building=r),placeholder:"Buildings",items:l(o).buildings,filter:"building_number",id:"building_id",icon:"building",hasErrors:l(d)},{default:C(({item:r,select:y})=>[$(W,{name:`Building ${r.building_number}`,meta:r.building_name,onMousedown:I=>y(r.building_id,`Building ${r.building_number}`)},null,8,["name","meta","onMousedown"])]),_:1},8,["modelValue","items","hasErrors"])):T("",!0),l(o).rooms.length>0?(u(),D(U,{key:3,modelValue:l(i).room,"onUpdate:modelValue":p[4]||(p[4]=r=>l(i).room=r),placeholder:"Rooms",items:l(o).rooms,filter:"room_number",id:"room_id",icon:"door-open",hasErrors:l(d)},{default:C(({item:r,select:y})=>[$(W,{name:`Room ${r.room_number}`,meta:r.capacity,onMousedown:I=>y(r.room_id,`Room ${r.room_number}`)},null,8,["name","meta","onMousedown"])]),_:1},8,["modelValue","items","hasErrors"])):T("",!0),$(Ye,{modelValue:l(i).day,"onUpdate:modelValue":p[5]||(p[5]=r=>l(i).day=r),hasErrors:l(d)},null,8,["modelValue","hasErrors"]),l(o).timeSlots.length>0?(u(),D(ot,{key:4,modelValue:l(i).slot,"onUpdate:modelValue":p[6]||(p[6]=r=>l(i).slot=r),timeSlots:l(o).timeSlots},null,8,["modelValue","timeSlots"])):T("",!0),a("div",St,[a("input",{class:"btn btn--primary",type:"submit",value:l(f)?"Save":"Add"},null,8,$t),l(f)?(u(),b("input",{key:0,class:"btn btn--edit",type:"button",value:"Duplicate",onClick:p[7]||(p[7]=r=>l(g)("duplicate"))})):T("",!0),a("input",{onClick:p[8]||(p[8]=(...r)=>l(m)&&l(m)(...r)),type:"button",value:l(f)?"Stop Editing":"Clear",class:"btn btn--reject"},null,8,Ct)])],32)],64))}}),xt={key:0,class:"mt-2 p-6"},kt={class:"flex"},Et=["onClick"],It={class:"border-collapse shadow-sm w-full text-sm overflow-hidden"},Dt={class:"bg-white border-gray-500 shadow-sm"},Tt={class:"text-center"},Mt=x({setup(e){const t=N(),{formatTime:n}=P();Y(async()=>{await t.getSections()});const s=v=>t.editSection(v),o=v=>{g.value=t.findSectionByID(v),m.value=v,d()},i=async()=>{_(),await t.deleteSection(m.value)},m=E(0),f=E(!1),g=E(),w=k(()=>g.value?n(g.value.begin_time):""),c=k(()=>g.value?n(g.value.end_time):""),d=()=>{f.value=!0},_=()=>{f.value=!1};return(v,h)=>(u(),b(V,null,[F($(te,{onClose:_},{main:C(()=>[g.value?(u(),b("p",xt,S(`Are you sure you want to delete course ${g.value.course_code} taught by ${g.value.instructor_name} from ${l(w)}-${l(c)}?`),1)):T("",!0)]),actions:C(({close:p})=>[a("div",kt,[a("button",{onClick:i,class:"btn btn--reject"},"Delete"),a("button",{onClick:p,class:"btn btn--primary"},"Cancel",8,Et)])]),_:1},512),[[O,f.value]]),a("table",It,[a("thead",Dt,[B(v.$slots,"table-header")]),a("tbody",Tt,[B(v.$slots,"rows",{editSection:s,deleteSection:o,sections:l(t).sectionsWithFormattedTime})])])],64))}}),Bt=x({props:{section:null},setup(e){return N(),(t,n)=>(u(),b("tr",null,[B(t.$slots,"row",{id:e.section.section_id,code:e.section.course_code,instructor:e.section.instructor_name,building:e.section.building_number,room:e.section.room_number,campus:e.section.campus_name,beginTime:e.section.begin_time,endTime:e.section.end_time,days:e.section.slot_days})]))}}),Ft={class:"capitalize"},jt=x({props:{headers:null},setup(e){return(t,n)=>(u(),b("tr",null,[(u(!0),b(V,null,j(e.headers,s=>(u(),b("th",Ft,[B(t.$slots,"default",{header:s})]))),256))]))}}),At=()=>{const e=N(),t=()=>{const o=s(),i="data:text/csv;charset=utf-8,\uFEFF"+encodeURIComponent(o);let m=document.createElement("a");m.id="csv",m.download="sections.csv",m.href=i,document.body.appendChild(m),m.style.visibility="hidden",m.click(),setTimeout(()=>{document.body.removeChild(m)})},n=o=>o&&o.charAt(0).toLocaleUpperCase()+o.slice(1),s=()=>{const o=e.sectionsWithoutID;if(o!==null){const i=Object.keys(o[0]).map(f=>n(f)).join(",").concat(`
`);let m="";return o.forEach(f=>{m+=Object.keys(f).map(g=>f[g]?f[g]:"N/A").join(","),m+=`
`}),i+m}return""};return{downloadCSV:t}},Ot={class:"px-4 bg-white border-b-2 border-gray-100 lg:col-span-5"},Rt={class:"flex my-2"},Pt=a("span",{class:"ml-2"},"All Plans",-1),Nt=a("span",{class:"ml-2"},"Export CSV",-1),Lt={class:"scrollable shadow-sm lg:col-span-7"},Ut={class:"mr-2"},Wt={class:"flex"},zt=["onClick"],Jt=["onClick"],se=x({setup(e){const t=["code","instructors","building","room","campus","days","time","actions"],{downloadCSV:n}=At();return(s,o)=>{const i=R("font-awesome-icon"),m=R("router-link");return u(),b(V,null,[a("main",Ot,[a("div",Rt,[$(m,{to:{name:"Plans"},class:"link link--neutral"},{default:C(()=>[$(i,{icon:"arrow-circle-left"}),Pt]),_:1}),a("button",{onClick:o[0]||(o[0]=(...f)=>l(n)&&l(n)(...f)),class:"link link--neutral"},[$(i,{icon:"file-csv"}),Nt])]),$(Vt)]),a("div",Lt,[$(Mt,null,{"table-header":C(()=>[$(jt,{headers:t},{default:C(({header:f})=>[a("span",Ut,S(f),1)]),_:1})]),rows:C(({sections:f,editSection:g,deleteSection:w})=>[(u(!0),b(V,null,j(f,c=>(u(),D(Bt,{section:c,key:c.section_id},{row:C(({id:d,code:_,instructor:v,building:h,room:p,campus:r,beginTime:y,endTime:I,days:L})=>[a("td",null,S(_),1),a("td",null,S(v),1),a("td",null,S(h||"N/A"),1),a("td",null,S(p||"N/A"),1),a("td",null,S(r),1),a("td",null,S(L),1),a("td",null,S(`${y} - ${I}`),1),a("td",Wt,[a("input",{type:"button",value:"Edit",class:"btn btn--edit text-xs",onClick:oe=>g(d)},null,8,zt),a("input",{type:"button",value:"Delete",class:"btn btn--reject text-xs",onClick:oe=>w(d)},null,8,Jt)])]),_:2},1032,["section"]))),128))]),_:1})])],64)}}}),qt={};function Kt(e,t){return u(),b("h1",null,"Plans route")}var Ht=K(qt,[["render",Kt]]);const Gt=_e({history:pe(),routes:[{path:"/",name:"Home",component:se},{path:"/plans",name:"Plans",component:Ht},{path:"/:catchAll(.*)",name:"NotFound",component:se}]});const Xt={},Qt={class:"lg:h-screen bg-gray-50"},Yt={class:"app-container"};function Zt(e,t){const n=R("router-view");return u(),b("div",Qt,[a("div",Yt,[$(n)])])}var es=K(Xt,[["render",Zt]]);const ts=ve();be.add(ge,ye,we,Se,$e,Ce,Ve,xe,ke,Ee,Ie,De,Te);Me(es).component("font-awesome-icon",Be).use(ts).use(Gt).mount("#app");
