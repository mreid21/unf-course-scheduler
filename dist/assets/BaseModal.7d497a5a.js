var _=Object.defineProperty,y=Object.defineProperties;var p=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var f=(s,o,c)=>o in s?_(s,o,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[o]=c,l=(s,o)=>{for(var c in o||(o={}))w.call(o,c)&&f(s,c,o[c]);if(h)for(var c of h(o))g.call(o,c)&&f(s,c,o[c]);return s},m=(s,o)=>y(s,p(o));import{u as S,s as a}from"./index.e2865369.js";import{e as v,f as b,g as B,h as I,P as u}from"./vendor.49686ed3.js";const A=()=>{const s=S();return{fetchCourses:async()=>{try{const{data:r,error:e}=await a.from("courses").select("*");if(e)throw e;return r}catch(r){alert(r.message)}},fetchInstructors:async()=>{try{const{data:r,error:e}=await a.from("instructors").select("*");if(e)throw e;return r}catch(r){alert(r.message)}},fetchBuildings:async()=>{try{const{data:r,error:e}=await a.from("buildings").select("*");if(e)throw e;return r}catch(r){alert(r.message)}},fetchRooms:async r=>{try{const{data:e,error:t}=await a.from("rooms").select("*").eq("building_id",r);if(t)throw t;return e}catch(e){alert(e.message)}},fetchTimeSlots:async(r,e)=>{try{const{data:t,error:n}=await a.from("time_slots").select("*").eq("slot_days",r).eq("credits",e).order("begin_time",{ascending:!0});if(n)throw n;return t}catch(t){alert(t.message)}},fetchSchedules:async r=>{try{const{data:e,error:t}=await a.from("schedules").select("*").eq("user_id",r);if(t)throw t;return e}catch(e){console.error(e.message)}},fetchParallel:async r=>{const e=r.map(t=>t());return await Promise.all(e)},fetchSections:async()=>{try{const{data:r,error:e}=await a.from("all_courses").select("*").eq("schedule_id",s.planID).order("section_row",{ascending:!0});if(e)throw e;return r}catch(r){alert(r.message)}},deleteSection:async r=>{try{const{data:e,error:t}=await a.from("sections").delete().match({section_id:r});if(t)throw t;return e}catch(e){alert(e.message)}},insertSection:async r=>{const e=m(l({},r),{schedule_id:s.planID});try{const{error:t}=await a.from("sections").insert(e);if(t)throw t}catch(t){alert(t.message)}},updateSection:async r=>{let e=l({},r);for(let t in e)e[t]===void 0&&(e[t]=null);try{const{data:t,error:n}=await a.from("sections").update({course_id:e.course_id,instructor_id:e.instructor_id,room_id:e.room_id,campus_id:e.campus_id,slot_id:e.slot_id}).match({section_id:r.section_id});if(n)throw n}catch(t){alert(t.message)}},deleteSchedule:async r=>{try{const{error:e}=await a.from("schedules").delete().match({schedule_id:r});if(e)throw e}catch(e){console.error(e.message)}},copySchedule:async(r,e)=>{try{const{data:t,error:n}=await a.rpc("copy_schedule",{source_plan:r,destination_plan:e});if(n)throw n}catch(t){console.error(t.message)}},createSchedule:async r=>{if(!!s.user)try{const{data:e,error:t}=await a.from("schedules").insert({user_id:s.user.id,schedule_name:r}).single();if(t)throw t;return e.schedule_id}catch(e){console.error(e.message)}}}};var q=(s,o)=>{const c=s.__vccOpts||s;for(const[i,d]of o)c[i]=d;return c};const k={class:"fixed flex justify-center items-center inset-0 z-20 backdrop-blur"},x={class:"p-8 bg-white border-rounded-sm shadow-sm"},D=v({emits:["close"],setup(s,{emit:o}){const c=()=>{o("close")};return(i,d)=>(b(),B("div",k,[I("div",x,[u(i.$slots,"header",{},void 0,!0),u(i.$slots,"main",{},void 0,!0),u(i.$slots,"actions",{close:c},void 0,!0)])]))}});var F=q(D,[["__scopeId","data-v-b7696298"]]);export{F as B,A as u};
