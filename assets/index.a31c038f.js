var I=Object.defineProperty,v=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var h=(s,r,n)=>r in s?I(s,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[r]=n,p=(s,r)=>{for(var n in r||(r={}))A.call(r,n)&&h(s,n,r[n]);if(d)for(var n of d(r))P.call(r,n)&&h(s,n,r[n]);return s},_=(s,r)=>v(s,w(r));import{d as L,c as C,a as O,b,e as E,u as j,o as R,r as N,f as V,g as q,h as T,i as k,j as B,l as D,k as F,m as S,n as U,p as x,q as J,s as M,t as z,v as W,w as $,x as H,y as X,z as G,A as Y,B as K,C as Q,F as Z}from"./vendor.49686ed3.js";const ee=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const e of a.addedNodes)e.tagName==="LINK"&&e.rel==="modulepreload"&&o(e)}).observe(document,{childList:!0,subtree:!0});function n(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(t){if(t.ep)return;t.ep=!0;const a=n(t);fetch(t.href,a)}};ee();const re="modulepreload",g={},se="/unf-course-scheduler/",l=function(r,n){return!n||n.length===0?r():Promise.all(n.map(o=>{if(o=`${se}${o}`,o in g)return;g[o]=!0;const t=o.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${a}`))return;const e=document.createElement("link");if(e.rel=t?"stylesheet":re,t||(e.as="script",e.crossOrigin=""),e.href=o,document.head.appendChild(e),t)return new Promise((c,i)=>{e.addEventListener("load",c),e.addEventListener("error",i)})})).then(()=>r())},f=L("user",{state:()=>({user:null,planID:null}),actions:{setCurrentPlan(s){this.$state.planID=s}}}),y=C({history:O("/unf-course-scheduler/"),routes:[{path:"/:username/Plans",name:"Plans",component:()=>l(()=>import("./Plans.f606d045.js"),["assets/Plans.f606d045.js","assets/vendor.49686ed3.js","assets/BaseModal.740d95ed.js","assets/BaseModal.4ed83ce1.css"]),meta:{requiresAuth:!0}},{path:"/:username/Plans/:planID",name:"Home",component:()=>l(()=>import("./Home.39df5645.js"),["assets/Home.39df5645.js","assets/vendor.49686ed3.js","assets/BaseModal.740d95ed.js","assets/BaseModal.4ed83ce1.css"]),meta:{requiresAuth:!0}},{path:"/Register",name:"Register",component:()=>l(()=>import("./Register.49dba273.js"),["assets/Register.49dba273.js","assets/vendor.49686ed3.js"]),meta:{requiresAuth:!1}},{path:"/Login",name:"Login",component:()=>l(()=>import("./Login.9c6ac329.js"),["assets/Login.9c6ac329.js","assets/vendor.49686ed3.js"]),meta:{requiresAuth:!1}},{path:"/:catchAll(.*)",name:"NotFound",component:()=>l(()=>import("./Login.9c6ac329.js"),["assets/Login.9c6ac329.js","assets/vendor.49686ed3.js"]),meta:{requiresAuth:!1}}]});y.beforeEach(s=>{const r=f();if(s.meta.requiresAuth&&!r.user)return console.log(s.query.userId),{name:"Login"};s.name==="Home"&&r.setCurrentPlan(parseInt(s.params.planID))});const te="https://liihxsljstcipupmbrms.supabase.co",ne="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJvbGUiOiJhbm9uIiwiaWF0IjoxNjQzMDM4NjY4LCJleHAiOjE5NTg2MTQ2Njh9.x_VBzIT4SPWFlMMB8PCYjBVWDwgFVR0XXOyS5mt7e6w",m=b(te,ne),oe=()=>{const s=f(),r=()=>{s.user=m.auth.user(),console.log(s.user)},n=async e=>{const c={username:e.username,email:e.email,department_id:e.department_id};try{const{user:i,error:u}=await m.auth.signUp({email:e.email,password:e.password},{data:p({},c)});if(u)throw u;s.user=i,o(c)}catch(i){return i.message}},o=async e=>{const c=s.user.id;try{let{error:i}=await m.from("user_profiles").upsert(_(p({},e),{id:c}));if(i)throw i}catch(i){return i.message}};return{signIn:async(e,c)=>{try{const{user:i,error:u}=await m.auth.signIn({email:e,password:c});if(s.user=i,u)throw u}catch(i){return i.message}},signOut:async()=>{try{const{error:e}=await m.auth.signOut();if(e)throw e;s.user=null}catch(e){console.error(e.message)}},signUp:n,getUser:r}};const ae={class:"lg:h-screen bg-gray-50"},ie={class:"app-container"},ce=E({setup(s){const r=f(),{getUser:n}=oe(),o=j();return R(()=>{n(),r.user?o.push(`/${r.user.user_metadata.username}/Plans`):o.push({name:"Login"})}),(t,a)=>{const e=N("router-view");return V(),q("div",ae,[T("div",ie,[k(e)])])}}});const ue=B();D.add(F,S,U,x,J,M,z,W,$,H,X,G,Y,K);Q(ce).component("font-awesome-icon",Z).use(ue).use(y).mount("#app");export{oe as a,m as s,f as u};
